# LC191 位1的个数

## 方法一：循环检查二进制位

### 思路及解法

可以直接循环检查给定整数n的二进制位的每一位是否为1

具体代码中，当检查到第i位时，我们可以让n和2^i进行与运算，当且仅当n的第i位为1时，运算结果不为0

### 代码

```go
func hammingWeight(num uint32) (count int) {
	for i := 0; i < 32; i++ {
    // 按位与，只有num的第i位是1，运算结果才不是0
		if 1 << i & num > 0 {
			count++
		}
	}
	return
}
```

## 方法二：位运算优化

### 思路及解法

<u>其中，`n & (n - 1)`这个运算，结果恰好把n的二进制位中的最低位的1变为0之后的结果</u>（这也太神奇了！！！）

例：6&(6-1)=4, 6=(110)2, 4=(100)2, 运算结果4就是把6的二进制位中的最低位1变为0之后的结果

这样，就可以利用这个位运算的性质加速检查过程，实际代码中，<u>不断让当前的n和n-1进行与运算，直到n变为0即可</u>。因为<u>每次运算都会使得n的最低位的1被反转</u>，因此，运算次数就等于n的二进制位中1的个数

### 代码

```go
func hammingWeight(num uint32) (ones int) {
	for ; num > 0; num &= num - 1 {
		ones++
	}
	return
}
```

### *Tips:Go的位操作*

Go编程语言支持以下几种位操作，包括：

```
&位与
|位或
^位异或
&^位清空
<<左移
>>右移
```

```
// 对于上述1 << i结果是
// 1 2 4 8 16 32……
```

